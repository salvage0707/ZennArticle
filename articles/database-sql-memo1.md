---
title: "SQLã‚ã‚‚" 
emoji: "ðŸ˜"
type: "tech" 
topics: ["SQL"]
published: false
---
# ã‚³ãƒžãƒ³ãƒ‰
## ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ç¢ºèª
```
mysql> SHOW DATABASES;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| innodb             |
| mysql              |
| performance_schema |
| sys                |
+--------------------+
5 rows in set (0.16 sec)
```

ã“ã®ã‚ˆã†ã«åˆæœŸã§ã¯5ã¤ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãŒä½œæˆã•ã‚Œã¦ã„ã‚‹ã€‚ã“ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¯MySQLãŒå‹•ä½œã™ã‚‹ãŸã‚ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¨ã—ã¦å¿…è¦ã ã‹ã‚‰ã€æ±ºã—ã¦å‰Šé™¤ã—ãªã„ã€‚

## ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ä½œæˆ
åŸºæœ¬æ§‹æ–‡ã€€
`$ CREATE DATABASE ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å;`

ä¾‹ï¼š

```
mysql> CREATE DATABASE Test;
Query OK, 1 row affected (0.18 sec)
```

```
mysql> SHOW DATABASES;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| Test     |
| innodb             |
| mysql              |
| performance_schema |
| sys                |
+--------------------+
6 rows in set (0.16 sec)
```

## ä½¿ã†ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’æŒ‡å®š
åŸºæœ¬æ§‹æ–‡
`$ USE ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å`

ä¾‹:

```
mysql> USE WebCampProTest;
Database changed

```

##ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆ
åŸºæœ¬æ§‹æ–‡

```
$ CREATE TABLE ãƒ†ãƒ¼ãƒ–ãƒ«å (ã‚«ãƒ©ãƒ å1 ã‚«ãƒ©ãƒ åž‹,
    ã‚«ãƒ©ãƒ å2, ã‚«ãƒ©ãƒ åž‹,
    ...,
    ã‚«ãƒ©ãƒ ån, ã‚«ãƒ©ãƒ åž‹,);

```

ä¾‹ï¼š

```
mysql> CREATE TABLE meibo (id INT, name VARCHAR(100), name_kana VARCHAR(200), prefecture VARCHAR(50), address TEXT, age INT);
Query OK, 0 rows affected (0.78 sec)
```

## ãƒ†ãƒ¼ãƒ–ãƒ«ã®ç¢ºèª

åŸºæœ¬æ§‹æ–‡
ã€€`$ SHOW TABLES;`

```
mysql> SHOW TABLES;
+--------------------------+
| Test                     |
+--------------------------+
| meibo                    |
+--------------------------+
1 row in set (0.18 sec)
```

## ãƒ†ãƒ¼ãƒ–ãƒ«å†…ã®ç¢ºèª
åŸºæœ¬æ§‹æ–‡
`$ DESK ãƒ†ãƒ¼ãƒ–ãƒ«å`

```
mysql> DESC meibo;
+------------+--------------+------+-----+---------+-------+
| Field      | Type         | Null | Key | Default | Extra |
+------------+--------------+------+-----+---------+-------+
| id         | int(11)      | YES  |     | NULL    |       |
| name       | varchar(100) | YES  |     | NULL    |       |
| name_kana  | varchar(200) | YES  |     | NULL    |       |
| prefecture | varchar(50)  | YES  |     | NULL    |       |
| address    | text         | YES  |     | NULL    |       |
| age        | int(11)      | YES  |     | NULL    |       |
+------------+--------------+------+-----+---------+-------+
6 rows in set (0.17 sec)
```

## ãƒ†ãƒ¼ãƒ–ãƒ«å†…ã«ãƒ‡ãƒ¼ã‚¿ã‚’æŒ¿å…¥
åŸºæœ¬æ§‹æ–‡
`$ INSERT INTO ãƒ†ãƒ¼ãƒ–ãƒ«å (ã‚«ãƒ©ãƒ å1, ã‚«ãƒ©ãƒ å2, ...) VALUES (å€¤1, å€¤2, ...);`

ä¾‹ï¼š

```
mysql> INSERT INTO meibo (id, name, name_kana, prefecture, address, age) VALUES (1, 'é’å±± å’Œä¹…', 'ã‚ãŠã‚„ã¾ ã‹ãšã²ã•', 'æ±äº¬éƒ½', 'æ±äº¬éƒ½åƒä»£ç”°åŒºä¸¸ã®å†…ï¼‘ä¸ç›®', 25);
Query OK, 1 row affected (0.20 sec)
```

##ãƒ†ãƒ¼ãƒ–ãƒ«ãªã„ã®ãƒ‡ãƒ¼ã‚¿ã‚’æ¤œç´¢
åŸºæœ¬æ§‹æ–‡
`$ SELECT * FROM ãƒ†ãƒ¼ãƒ–ãƒ«å;`

ä¾‹ï¼š

```
mysql> SELECT * FROM meibo;
+------+---------------+---------------------------+------------+-----------------------------------------+------+
| id   | name          | name_kana                 | prefecture | address                                 | age  |
+------+---------------+---------------------------+------------+-----------------------------------------+------+
|    1 | é’å±± å’Œä¹…      | ã‚ãŠã‚„ã¾ ã‹ãšã²ã•             | æ±äº¬éƒ½      | æ±äº¬éƒ½åƒä»£ç”°åŒºä¸¸ã®å†…ï¼‘ä¸ç›®                   |   25 |
+------+---------------+---------------------------+------------+-----------------------------------------+------+
1 row in set (0.17 sec)
```

ã‚«ãƒ©ãƒ ã‚’æŒ‡å®šã—ã¦å–ã‚Šå‡ºã™å ´åˆ

```
mysql> SELECT id, name FROM meibo;
+------+---------------+
| id   | name          |
+------+---------------+
|    1 | é’å±± å’Œä¹…      |
+------+---------------+
1 row in set (0.18 sec)

```

ãƒ‡ãƒ¼ã‚¿ã®æ¡ä»¶ã‚’æŒ‡å®šã—ã¦å–ã‚Šå‡ºã™å ´åˆ

```
mysql> SELECT * FROM meibo WHERE prefecture = 'æ±äº¬éƒ½';
+------+---------------+---------------------------+------------+---------------------------------------------------------------+------+
| id   | name          | name_kana                 | prefecture | address                                                       | age  |
+------+---------------+---------------------------+------------+---------------------------------------------------------------+------+
|    1 | é’å±± å’Œä¹…      | ã‚ãŠã‚„ã¾ ã‹ãšã²ã•              | æ±äº¬éƒ½     | æ±äº¬éƒ½åƒä»£ç”°åŒºä¸¸ã®å†…ï¼‘ä¸ç›®                                          |   25 |
|    3 | ç™½é³¥ è’¼ç”«      | ã—ã‚‰ã¨ã‚Š ãã†ã™ã‘               | æ±äº¬éƒ½     | æ±äº¬éƒ½ç·´é¦¬åŒºè±ŠçŽ‰å—4-11                                            |   22 |
|    5 | å°¾ä¸Š èŠç”Ÿ      | ãŠãŒã¿ ãããŠ                 | æ±äº¬éƒ½     | æ±äº¬éƒ½å°å¹³å¸‚å›žç”°ç”º2-12-17ãƒ•ã‚©ãƒ¬ã‚¹ãƒˆå›žç”°ç”º202                          |   41 |
+------+---------------+---------------------------+------------+---------------------------------------------------------------+------+
3 rows in set (0.16 sec)
```

```
mysql> SELECT * FROM meibo WHERE prefecture='æ±äº¬éƒ½' AND age >= 35;
+------+---------------+---------------------+------------+---------------------------------------------------------------+------+
| id   | name          | name_kana           | prefecture | address                                                       | age  |
+------+---------------+---------------------+------------+---------------------------------------------------------------+------+
|    5 | å°¾ä¸Š èŠç”Ÿ      | ãŠãŒã¿ ãããŠ           | æ±äº¬éƒ½     | æ±äº¬éƒ½å°å¹³å¸‚å›žç”°ç”º2-12-17ãƒ•ã‚©ãƒ¬ã‚¹ãƒˆå›žç”°ç”º202                           |   41 |
+------+---------------+---------------------+------------+---------------------------------------------------------------+------+
1 row in set (0.17 sec)
```

## ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°
åŸºæœ¬æ§‹æ–‡
`$ UPDATE ãƒ†ãƒ¼ãƒ–ãƒ«å SET ã‚«ãƒ©ãƒ å1 = å€¤1, ã‚«ãƒ©ãƒ å2 = å€¤2, ..., ã‚«ãƒ©ãƒ ån = å€¤n WHERE æ¡ä»¶æ–‡;`

ä¾‹ï¼š

```
mysql> UPDATE meibo SET age = 25 WHERE id = 3;
Query OK, 1 row affected (0.17 sec)
Rows matched: 1  Changed: 1  Warnings: 0
```

##ãƒ†ãƒ¼ã‚¿ã®å‰Šé™¤
åŸºæœ¬æ§‹æ–‡
`$ DELETE FROM ãƒ†ãƒ¼ãƒ–ãƒ«å WHERE æ¡ä»¶æ–‡;`

```
mysql> DELETE FROM meibo WHERE id > 7;
Query OK, 4 rows affected (0.19 sec)
```



# ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆ(ä¾‹ã‚’ä½¿ç”¨ã—ã¦)
## ãƒ†ãƒ¼ãƒ–ãƒ«è¨­è¨ˆ
Testãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆã—ã¦ã„ãã¾ã™ã€‚ä»Šå›žã¯åç°¿ã‚’ã‚¤ãƒ¡ãƒ¼ã‚¸ã—ãŸæ§‹æˆã®ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆã—ã¦ã„ãã¾ã™ã€‚
ãƒ†ãƒ¼ãƒ–ãƒ«ã®é …ç›®å†…å®¹ã¨ã‚«ãƒ©ãƒ åã€åž‹ã¯ä¸‹è¨˜ã®è¡¨ã®ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã¨ã—ã¾ã™ã€‚

| é …ç›®å†…å®¹ | ã‚«ãƒ©ãƒ å | ã‚«ãƒ©ãƒ åž‹ |
|:--|:--|:--|
| ID | id | INT |
| åå‰ | name | VARCHAR(100) |
| ãµã‚ŠãŒãª | name_kana | VARCHAR(200) |
| çœŒå | prefecture | VARCHAR(50) |
| ä½æ‰€ | address | TEXT |
| å¹´é½¢ | age | INT |

ã‚«ãƒ©ãƒ åž‹ã«è¨˜è¿°ã—ã¦ã„ã‚‹ã‚‚ã®ã¯ä¸‹è¨˜ã®å†…å®¹ã‚’æ„å‘³ã—ã¦ã„ã¾ã™ã€‚

| ã‚«ãƒ©ãƒ åž‹ | å†…å®¹ |
|:--|:--|
| INT | æ•´æ•°å€¤ |
| VARCHAR(n) | næ–‡å­—ã¾ã§ã®æ–‡å­—åˆ— |
| TEXT | æœ€å¤§æ–‡å­—åˆ—ã‚’æŒ‡å®šã—ãªã„æ–‡å­—åˆ—åž‹ |

##ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆã™ã‚‹
ãƒ†ãƒ¼ãƒ–ãƒ«åã¯meiboã¨ã—ã¦ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆã«ã¯CREATE TABLEã¨ã„ã†SQLã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

```
mysql> CREATE TABLE meibo (id INT, name VARCHAR(100), name_kana VARCHAR(200), prefecture VARCHAR(50), address TEXT, age INT);
Query OK, 0 rows affected (0.78 sec)
```
##ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ç¢ºèªã™ã‚‹
```
mysql> SHOW TABLES;
+--------------------------+
| Tables_in_WebCampProTest |
+--------------------------+
| meibo                    |
+--------------------------+
1 row in set (0.18 sec)
```

```
mysql> DESC meibo;
+------------+--------------+------+-----+---------+-------+
| Field      | Type         | Null | Key | Default | Extra |
+------------+--------------+------+-----+---------+-------+
| id         | int(11)      | YES  |     | NULL    |       |
| name       | varchar(100) | YES  |     | NULL    |       |
| name_kana  | varchar(200) | YES  |     | NULL    |       |
| prefecture | varchar(50)  | YES  |     | NULL    |       |
| address    | text         | YES  |     | NULL    |       |
| age        | int(11)      | YES  |     | NULL    |       |
+------------+--------------+------+-----+---------+-------+
6 rows in set (0.17 sec)
```

